---
title: "DAM profile"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## GitHub Documents

This is an R Markdown format used for publishing markdown documents to GitHub. When you click the **Knit** button all R code chunks are run and a markdown file (.md) suitable for publishing to GitHub is generated.

## Including Code

You can include R code in the document as follows:

```{r Data}
library(Seurat)
clusters <- readRDS(file = '/Users/sanachintamen/Desktop/Cx3cr1_clusters.Rds', refhook = NULL)
DefaultAssay(clusters) <- 'RNA'
clusters <- NormalizeData(clusters)
clusters <- FindVariableFeatures(clusters)
all.genes <- rownames(clusters)
clusters <- ScaleData(clusters, features = all.genes)
```

```{r cars}
library(VennDiagram)
library(ggvenn)
library(dplyr)


SGZvsMG <- FindMarkers(clusters, ident.1 = 4, ident.2 = c(0,1), only.pos = TRUE, logfc.threshold = 0.25)
SGZgenes <- rownames(SGZvsMG)

DAM <- read.csv('/Users/sanachintamen/Documents/kerenshaul1vs3.csv')
DAM <- as.data.frame(DAM)
DAMup <- filter(DAM, up.down == 1)
DAMup <- DAMup$X

genes <- intersect(DAMup, SGZgenes)

plot <- venn.diagram(list(SGZgenes, DAMup),
                     filename = '/Users/sanachintamen/Desktop/venn.tiff',
                     col = c("#1ABC9C", "#85C1E9", "#CD6155"),
                     cex = 2,
                     cat.fontface = 4,
                     category.names = c('SGZ genes', 'DAM signature'))


DoHeatmap(clusters, )

```



## SGZ MG vs DAM vs M1 vs M2

get datasets from M1 and M2 phenotype [here](https://onlinelibrary.wiley.com/doi/full/10.1111/cen3.12426)
```{r}

```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
library(dplyr)
PAM <- read.csv(file = '/Users/sanachintamen/Desktop/PAM.csv')
PAM <- as.data.frame(PAM)
PAMup <- filter(PAM, avg_logFC > 0)
PAMup <- PAMup$gene

genes <- intersect(SGZgenes, PAMup)
genes


dampam <- intersect(PAMup, DAMup)

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
